(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{162:function(e,a,t){"use strict";t.d(a,"b",function(){return i});var n=t(20),i=function(e){return function(a,t){a(function(e){return{type:"SWITCH_CITY",payload:e}}(e)),localStorage.setItem("cityIdx",e)}},r=Object(n.a)({},"SWITCH_CITY",function(e,a){return a.payload}),c=+localStorage.getItem("cityIdx")||0;a.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,a=arguments.length>1?arguments[1]:void 0,t=r[a.type];return t?t(e,a):e}},42:function(e,a,t){"use strict";t.d(a,"d",function(){return r}),t.d(a,"c",function(){return c}),t.d(a,"b",function(){return s}),t.d(a,"a",function(){return o});var n=0;function i(e,a,t,i){var r;return n+=1,r=e?a?"\u8d85\u8fc7".concat(e,",000\u81f3").concat(a,",000\u7684\u90e8\u5206"):"\u4e0d\u8d85\u8fc7".concat(e,",000\u7684\u90e8\u5206"):"\u8d85\u8fc7".concat(a,",000\u7684\u90e8\u5206"),{id:n,income:r,taxRate:t,deduction:i}}var r=[i(36,0,3,0),i(36,144,10,2520),i(144,300,20,16920),i(300,420,25,31920),i(420,660,30,52920),i(660,960,35,85920),i(0,960,45,181920)],c=[i(3,0,3,0),i(3,12,10,210),i(12,25,20,1410),i(25,35,25,2660),i(35,55,30,4410),i(55,80,35,7160),i(0,80,45,15160)],s=[{city:"\u5317\u4eac",minIBase:3387,maxIBase:25401,minHACBase:2409,maxHACBase:25401,minMIBase:5080,minEIBase:3387,minUIBase:3387,minWIIBase:5080,minCIBase:5080,addMI:3,hACRates:[.12,.12],eIRates:[.08,.19],mIRates:[.02,.1],uIRates:[.002,.008],wIIRates:[0,.004],cIRates:[0,.008]},{city:"\u676d\u5dde",minIBase:3054.95,maxIBase:15274.74,minHACBase:2010,maxHACBase:24311,minMIBase:3054.95,minEIBase:3054.95,minUIBase:3054.95,minWIIBase:3054.95,minCIBase:3054.95,addMI:0,hACRates:[.12,.12],eIRates:[.08,.14],mIRates:[.02,.105],uIRates:[.005,.005],wIIRates:[0,.004],cIRates:[0,.012]},{city:"\u4e0a\u6d77",minIBase:4279,maxIBase:21396,minHACBase:2300,maxHACBase:21400,minMIBase:4279,minEIBase:4279,minUIBase:4279,minWIIBase:4279,minCIBase:4279,addMI:0,hACRates:[.07,.07],eIRates:[.08,.2],mIRates:[.02,.095],uIRates:[.005,.005],wIIRates:[0,.005],cIRates:[0,.01]},{city:"\u6df1\u5733",minIBase:2200,maxIBase:25044,minHACBase:2130,maxHACBase:25044,minMIBase:5009,minEIBase:2200,minUIBase:2200,minWIIBase:2200,minCIBase:200,addMI:0,hACRates:[.05,.05],eIRates:[.08,.2],mIRates:[.02,.095],uIRates:[.003,.007],wIIRates:[0,.0014],cIRates:[0,.0045]},{city:"\u5b81\u6ce2",minIBase:3279,maxIBase:16394,minHACBase:2010,maxHACBase:24420,minMIBase:3279,minEIBase:3279,minUIBase:3279,minWIIBase:3279,minCIBase:3279,addMI:0,hACRates:[.08,.08],eIRates:[.08,.14],mIRates:[.02,.09],uIRates:[.005,.005],wIIRates:[0,0],cIRates:[0,.007]},{city:"\u82cf\u5dde",minIBase:3030,maxIBase:21963,minHACBase:3030,maxHACBase:21900,minMIBase:3030,minEIBase:3030,minUIBase:3030,minWIIBase:3030,minCIBase:3030,addMI:5,hACRates:[.08,.08],eIRates:[.08,.19],mIRates:[.02,.09],uIRates:[.005,.005],wIIRates:[0,.015],cIRates:[0,.008]},{city:"\u65e0\u9521",minIBase:3030,maxIBase:19935,minHACBase:1890,maxHACBase:21250,minMIBase:3030,minEIBase:3030,minUIBase:3030,minWIIBase:3030,minCIBase:3030,addMI:0,hACRates:[.08,.08],eIRates:[.08,.19],mIRates:[.02,.079],uIRates:[.005,.005],wIIRates:[0,.015],cIRates:[0,.008]},{city:"\u897f\u5b89",minIBase:3371,maxIBase:19443,minHACBase:1680,maxHACBase:19443,minMIBase:3889,minEIBase:3371,maxEIBase:16857,minUIBase:3889,minWIIBase:3389,minCIBase:3889,addMI:1.6,hACRates:[.1,.1],eIRates:[.08,.19],mIRates:[.02,.079],uIRates:[.003,.007],wIIRates:[0,.028],cIRates:[0,.005]}],o=["\u5317\u4eac","\u676d\u5dde","\u4e0a\u6d77","\u6df1\u5733","\u5b81\u6ce2","\u82cf\u5dde","\u65e0\u9521","\u897f\u5b89"]},5447:function(e,a,t){e.exports=t(5625)},5625:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),r=t(21),c=t.n(r),s=t(169),o=t(16),l=t(68),u=t.n(l),m=t(67),d=t.n(m),h=t(170),I=t.n(h),p=t(100),f=t.n(p),v=t(101),B=t.n(v),b=t(5629),g=t(5627),x=t(5628),y=t(41),C=t(27),E=t(28),w=t(30),R=t(29),O=t(31),j=t(20),A=t(10),k=t(165),T=t.n(k),W=t(5630),S=t(33),M=t(103),H=t(109),P=t.n(H),U=t(5626);function N(e,a,t){var n=+e;return n>=a?n<=t?n:t:a}var F=function(e,a){if(a<=Math.min.apply(null,e))return 0;if(a>Math.max.apply(null,e))return e.length;for(var t=0,n=0,i=e.length;n<i;n++)if(e[n]>=a){t=n;break}return t},D=t(42);function q(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5e3,r=+(+e*t).toFixed(2),c=+((+a+n+i)*t).toFixed(2),s=+(+a*t).toFixed(2),o=r-c,l=F([0,36e3,144e3,3e5,42e4,66e4,96e4],o),u=[0,3,10,20,25,30,35,45][l],m=[0,0,2520,16920,31920,52920,85920,181920][l],d=+(o*u/100-m).toFixed(2);return{taxRate:u,quickDeduction:m,tax:d,afterTax:+((+e-+a)*t-d).toFixed(2),income:r,totalDeduction:c,totalInsurance:s}}function L(e,a,t){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=D.b[t],r=i.minMIBase,c=i.minEIBase,s=i.minUIBase,o=i.eIRates,l=i.mIRates,u=i.uIRates,m=i.hACRates,d=i.addMI,h=i.maxEIBase;return+((e<r?r*l[0]+d:e*l[0]+d)+(e<c?c*o[0]:h&&e>h?h*o[0]:e*o[0])+(e<s?s*u[0]:e*u[0])+a*m[0]*Number(n)).toFixed(2)}var _,J=function(e){var a=e.classes,t=e.label,n=e.value,r=e.city;return i.a.createElement("span",null,i.a.createElement("span",{className:a.span},r),t,i.a.createElement("span",{className:a.span},n))},Y=function(e){return i.a.createElement(U.a,Object.assign({to:"/city"},e))},z=function(e){function a(){var e,t;Object(C.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=Object(w.a)(this,(e=Object(R.a)(a)).call.apply(e,[this].concat(i)))).state={monthIncome:"",insurance:"",iBase:"",hACBase:"",additional:"",checkProvident:!0},t.handleClick=function(e){var a=t.state,n=a.monthIncome,i=a.insurance,r=a.additional;if(n&&i){e.preventDefault();var c=q(n,i,12,+r),s=new Array(12).fill(1).map(function(e,a){if(!a){var t=q(n,i,1,+r);return{tax:t.tax,income:t.income,afterTax:t.afterTax}}var c=q(n,i,a+1,+r),s=q(n,i,a,+r),o=+(c.tax-s.tax).toFixed(2),l=+n;return{tax:o,income:l,afterTax:+(l-o-+i).toFixed(2)}});t.props.history.push("/result"),t.props.switchType(1),t.props.compute(Object(S.a)({},c,{aMonthTax:s,insurance:i,additional:12*+r}))}},t.handleChange=function(e){return function(a){var n=t.props.cityIdx,i=D.b[n],r=i.minIBase,c=i.maxIBase,s=i.minHACBase,o=i.maxHACBase;if("checkProvident"!==e){var l=a.target.value;t.setState(Object(j.a)({},e,l)),"monthIncome"===e&&t.setState(function(e){var a=e.checkProvident,t=N(l,r,c),i=N(l,s,o);return{iBase:t,hACBase:i,insurance:L(t,i,n,a)}})}else{var u=a.target.checked;t.setState(function(e){var a=L(e.iBase,e.hACBase,n,u);return{checkProvident:u,insurance:a}})}}},t.handleBlur=function(e){return function(a){var n=t.props.cityIdx,i=D.b[n],r=i.minIBase,c=i.maxIBase,s=i.minHACBase,o=i.maxHACBase;"iBase"!==e&&"hACBase"!==e||t.setState(function(a){var t,i=N(a[e],"iBase"===e?r:s,"iBase"===e?c:o),l="iBase"===e?L(i,a.hACBase,n,a.checkProvident):L(a.iBase,i,n,a.checkProvident);return t={},Object(j.a)(t,e,i),Object(j.a)(t,"insurance",l),t})}},t}return Object(O.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.cityIdx,n=this.state,r=n.monthIncome,c=n.insurance,s=n.iBase,o=n.hACBase,l=n.additional,u=n.checkProvident,m=D.b[t],d=m.city,h=m.minIBase,I=m.maxIBase,p=m.minHACBase,f=m.maxHACBase;return i.a.createElement(A.h,{container:!0,spacing:24,justify:"flex-end",component:"form"},i.a.createElement(A.h,{item:!0,xs:12},i.a.createElement(A.b,{size:"small",variant:"contained",fullWidth:!0,classes:{label:a.btnLabel},component:Y},i.a.createElement(M.d,{color:"inherit"}),d)),i.a.createElement(A.h,{item:!0,xs:12,md:6},i.a.createElement(A.x,{required:!0,id:"monthIncome",label:"\u6708\u5747\u5de5\u8d44\u6536\u5165(\u5143)",fullWidth:!0,type:"number",value:r,onChange:this.handleChange("monthIncome")})),i.a.createElement(A.h,{item:!0,xs:12,md:6},i.a.createElement(A.x,{required:!0,id:"insurance",label:"\u4e94\u9669\u4e00\u91d1(\u5143)",fullWidth:!0,helperText:"*\u6839\u636e\u7f34\u7eb3\u57fa\u6570\u8ba1\u7b97\uff0c\u53ef\u624b\u52a8\u4fee\u6539",type:"number",value:c,onChange:this.handleChange("insurance")})),i.a.createElement(A.h,{item:!0,xs:12,md:6},i.a.createElement(A.x,{id:"iBase",label:"\u793e\u4fdd\u7f34\u7eb3\u57fa\u6570(\u5143)",value:s,fullWidth:!0,helperText:i.a.createElement(J,{classes:a,city:d,label:"\u793e\u4fdd\u7f34\u7eb3\u57fa\u6570\u8303\u56f4\uff1a",value:"".concat(h,"-").concat(I)}),type:"number",onChange:this.handleChange("iBase"),onBlur:this.handleBlur("iBase")})),i.a.createElement(A.h,{item:!0,xs:12,md:6},i.a.createElement(A.x,{id:"hACBase",label:"\u516c\u79ef\u91d1\u7f34\u7eb3\u57fa\u6570(\u5143)",value:o,onChange:this.handleChange("hACBase"),onBlur:this.handleBlur("hACBase"),fullWidth:!0,disabled:!u,helperText:i.a.createElement(J,{classes:a,city:d,label:"\u516c\u79ef\u91d1\u7f34\u7eb3\u57fa\u6570\u8303\u56f4\uff1a",value:"".concat(p,"-").concat(f)}),type:"number"})),i.a.createElement(A.h,{item:!0,xs:12,md:6},i.a.createElement(A.x,{id:"additional",label:"\u4e13\u9879\u9644\u52a0\u6263\u9664(\u5143/\u6708)",value:l,onChange:this.handleChange("additional"),onBlur:this.handleBlur("additional"),fullWidth:!0,type:"number",helperText:"*\u4e13\u9879\u9644\u52a0\u6263\u9664\u8bf7\u5728\u4e2a\u4eba\u6240\u5f97\u7a0eAPP\u4e2d\u7533\u62a5\u67e5\u770b"})),i.a.createElement(A.h,{item:!0,xs:12,md:6},i.a.createElement(A.g,{control:i.a.createElement(A.c,{value:"checkProvident",checked:u,onChange:this.handleChange("checkProvident")}),label:"\u6c47\u7f34\u4f4f\u623f\u516c\u79ef\u91d1"})),i.a.createElement(A.h,{item:!0,xs:12,md:4},i.a.createElement(A.b,{variant:"contained",fullWidth:!0,color:"primary",onClick:this.handleClick,type:"submit"},"\u8ba1\u7b97")))}}]),a}(n.Component),G=Object(o.withStyles)(function(e){return{span:{color:P.a[500]},btnLabel:{justifyContent:"flex-start"}}})(z),Q=function(e){return function(a){a({type:"COMPUTE",payload:e}),localStorage.setItem("result",JSON.stringify(e))}},V=function(e){return function(a){a({type:"SWITCH_TYPE",payload:e}),localStorage.setItem("type",e)}},$=(_={},Object(j.a)(_,"COMPUTE",function(e,a){return Object(S.a)({},e,{result:a.payload})}),Object(j.a)(_,"SWITCH_TYPE",function(e,a){return Object(S.a)({},e,{type:a.payload})}),_),K={type:+localStorage.getItem("type")||1,result:JSON.parse(localStorage.getItem("result"))||{aMonthTax:[]}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,a=arguments.length>1?arguments[1]:void 0,t=$[a.type];return t?t(e,a):e},Z={compute:Q,switchType:V},ee=Object(W.a)(Object(y.b)(function(e){return{cityIdx:e.cityIdx}},Z)(G)),ae={forward:"\u5e94\u53d1\u5e74\u7ec8\u5956(\u5143)",reverse:"\u7a0e\u540e\u6240\u5f97(\u5143)"},te=function(e){function a(){var e,t;Object(C.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=Object(w.a)(this,(e=Object(R.a)(a)).call.apply(e,[this].concat(i)))).state={mode:"forward",bonus:""},t.handleChange=function(e){return function(a){t.setState(Object(j.a)({},e,a.target.value))}},t.handleClick=function(e){var a=t.state,n=a.bonus,i=a.mode;n&&(e.preventDefault(),t.props.history.push("/result"),t.props.switchType(2),t.props.compute(function(e){var a=[0,3e3,12e3,25e3,35e3,55e3,8e4],t=[0,3,10,20,25,30,35,45],n=[0,0,210,1410,2660,4410,7160,15160];if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var i=F(a,e/12),r=t[i],c=n[i],s=+(e*r/100-c).toFixed(2);return{tax:s,income:e,taxRate:r,quickDeduction:c,afterTax:e-s}}for(var o,l,u,m=0,d=0,h=t.length;m<h;m++){var I=+((e-n[m])/(1-t[m]/100)/12).toFixed(2);if(F(a,I)===m){d=m;break}}return{taxRate:l=t[d],quickDeduction:u=n[d],afterTax:e,income:o=+((e-u)/(1-l/100)).toFixed(2),tax:+(o-e).toFixed(2)}}(+n,"forward"===i)))},t}return Object(O.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){var e=this.state,a=e.mode,t=e.bonus;return i.a.createElement(A.h,{container:!0,spacing:24,component:"form",justify:"flex-end"},i.a.createElement(A.h,{item:!0,xs:12},i.a.createElement(A.o,{name:"mode",value:this.state.mode,onChange:this.handleChange("mode"),row:!0},i.a.createElement(A.g,{value:"forward",control:i.a.createElement(A.n,null),label:"\u6b63\u7b97\u7a0e\u540e"}),i.a.createElement(A.g,{value:"reverse",control:i.a.createElement(A.n,null),label:"\u53cd\u63a8\u7a0e\u524d"}))),i.a.createElement(A.h,{item:!0,xs:12},i.a.createElement(A.x,{required:!0,id:"bonus",label:ae[a],fullWidth:!0,type:"number",value:t,onChange:this.handleChange("bonus")})),i.a.createElement(A.h,{item:!0,xs:12,md:4},i.a.createElement(A.b,{variant:"contained",fullWidth:!0,color:"primary",type:"submit",onClick:this.handleClick},"\u8ba1\u7b97")))}}]),a}(n.Component),ne=Object(o.withStyles)(function(e){return{}})(te),ie={compute:Q,switchType:V},re=Object(W.a)(Object(y.b)(function(e){return{}},ie)(ne)),ce=function(e){function a(){var e,t;Object(C.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=Object(w.a)(this,(e=Object(R.a)(a)).call.apply(e,[this].concat(i)))).state={value:0},t.handleChange=function(e,a){t.setState({value:a})},t.handleChangeIndex=function(e){t.setState({value:e})},t}return Object(O.a)(a,e),Object(E.a)(a,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.theme,n=e.matchesDwonSm;return i.a.createElement("div",{className:a.root},i.a.createElement(A.a,{position:"static",color:"default"},i.a.createElement(A.w,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:n?"fullWidth":"standard"},i.a.createElement(A.q,{label:"\u5e74\u5ea6\u4e2a\u7a0e"}),i.a.createElement(A.q,{label:"\u5e74\u7ec8\u5956"}))),i.a.createElement(T.a,{axis:"rtl"===t.direction?"x-reverse":"x",index:this.state.value,onChangeIndex:this.handleChangeIndex},i.a.createElement("main",{className:a.layout},i.a.createElement(A.m,{className:a.paper,elevation:2},i.a.createElement(ee,null))),i.a.createElement("main",{className:a.layout},i.a.createElement(A.m,{className:a.paper,elevation:2},i.a.createElement(re,null)))))}}]),a}(n.Component),se=Object(o.withStyles)(function(e){return{root:{flexGrow:1},layout:Object(j.a)({width:"auto",marginLeft:2*e.spacing.unit,marginRight:2*e.spacing.unit},e.breakpoints.up(600+2*e.spacing.unit*2),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(j.a)({marginTop:3*e.spacing.unit,marginBottom:3*e.spacing.unit,padding:2*e.spacing.unit},e.breakpoints.up(600+3*e.spacing.unit*2),{marginTop:6*e.spacing.unit,marginBottom:6*e.spacing.unit,padding:3*e.spacing.unit})}},{withTheme:!0})(ce),oe=function(e){function a(){return Object(C.a)(this,a),Object(w.a)(this,Object(R.a)(a).apply(this,arguments))}return Object(O.a)(a,e),Object(E.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),a}(n.Component),le=Object(W.a)(oe),ue=t(32),me=t(168),de=t(162),he=function(e){return Object(ue.c)(Object(S.a)({cityIdx:de.a,calc:X},e))},Ie=he,pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=[me.a],t=ue.d;var n=Object(ue.e)(Ie(),e,t.apply(void 0,[ue.a.apply(void 0,a)].concat([])));return n.asyncReducers={},n}(),fe=Object(n.lazy)(function(){return t.e(3).then(t.bind(null,5633))}),ve=Object(n.lazy)(function(){return t.e(4).then(t.bind(null,5634))});var Be=Object(o.withTheme)()(function(e){var a=e.theme,t=Object(s.unstable_useMediaQuery)(a.breakpoints.down("sm"));return i.a.createElement(b.a,null,i.a.createElement(n.Suspense,{fallback:i.a.createElement(d.a,null)},i.a.createElement(g.a,{exact:!0,path:"/",render:function(e){return i.a.createElement(se,Object.assign({},e,{matchesDwonSm:t}))}}),i.a.createElement(g.a,{path:"/result",render:function(e){return i.a.createElement(fe,e)}}),i.a.createElement(g.a,{path:"/city",render:function(e){return i.a.createElement(ve,e)}})))}),be=Object(o.createMuiTheme)({typography:{useNextVariants:!0},palette:{primary:I.a,secondary:f.a,error:B.a,contrastThreshold:3,tonalOffset:.2}});var ge=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function xe(e,a){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(i.a.createElement(function(){return i.a.createElement(o.MuiThemeProvider,{theme:be},i.a.createElement(u.a,null),i.a.createElement(y.a,{store:pe},i.a.createElement(x.a,{basename:"/personal-income-tax-calculator/"},i.a.createElement(le,null,i.a.createElement(Be,null)))))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/personal-income-tax-calculator",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var a="".concat("/personal-income-tax-calculator","/service-worker.js");ge?(function(e,a){fetch(e).then(function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):xe(e,a)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(a,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):xe(a,e)})}}()}},[[5447,1,2]]]);
//# sourceMappingURL=main.ab04f044.chunk.js.map